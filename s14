Q.1) Display all the files from current directory whose size is greater that n Bytes Where n is 
accept from user. [10 Marks ] 

#include <stdio.h> 
#include <stdlib.h> 
#include <dirent.h> 
#include <sys/stat.h> 
#include <string.h> 
 
int main(int argc, char *argv[]) { 
    struct dirent *entry; 
    struct stat file_stat; 
    DIR *dir; 
    long size_threshold; 
 
    if (argc != 2) { 
        printf("Usage: %s <size in bytes>\n", argv[0]); 
        return 1; 
    } 
 
    size_threshold = atol(argv[1]); 
 
    dir = opendir("."); 
    if (dir == NULL) { 
        perror("opendir"); 
        return 1; 
    } 
 
    while ((entry = readdir(dir)) != NULL) { 
        if (stat(entry->d_name, &file_stat) == 0) { 
            if (S_ISREG(file_stat.st_mode) && 
                file_stat.st_size > size_threshold) { 
                printf("%s (%ld bytes)\n", entry->d_name, file_stat.st_size); 
            } 
        } else { 
            perror("stat"); 
        } 
    } 
 
    closedir(dir); 
    return 0; 
} 
 
Q.2) Write a C program to find file properties such as inode number, number of hard link, File 
permissions, File size, File access and modification time and so on of a given file using stat() 
system call. [20 Marks ] 

#include <stdio.h> 
#include <sys/stat.h> 
 
int main(int argc, char *argv[]) { 
    struct stat file_stat; 
    if (stat(argv[1], &file_stat) == -1) { 
        perror("stat"); 
        return 1; 
    } 
    printf("File: %s\n", argv[1]); 
    printf("Inode: %ld\n", file_stat.st_ino); 
    printf("Size: %ld bytes\n", file_stat.st_size); 
    printf("Links: %ld\n", file_stat.st_nlink); 
    printf("Permissions: %o\n", file_stat.st_mode & 0777); 
    printf("File type: %d\n", file_stat.st_mode & S_IFMT); 
    return 0; 
}
