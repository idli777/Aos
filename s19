Q.1) Take multiple files as Command Line Arguments and print their file type and inode number 
[10 Marks ] 
#include <stdio.h> 
#include <sys/stat.h> 
 
int main(int argc, char *argv[]) { 
    struct stat file_stat; 
    for (int i = 1; i < argc; i++) { 
        if (stat(argv[i], &file_stat) == -1) { 
            perror("stat"); 
            return 1; 
        } 
        printf("File: %s, Inode: %ld\n", argv[i], file_stat.st_ino); 
    } 
    return 0; 
} 
 
Q.2) Implement the following unix/linux command (use fork, pipe and exec system call) ls –l | wc –l [20 Marks ] 
#include <stdio.h> 
#include <stdlib.h> 
#include <unistd.h> 
 
int main() { 
    int pipefd[2]; 
    pid_t pid1, pid2; 
 
    if (pipe(pipefd) == -1) { 
        perror("pipe"); 
        return 1; 
    } 
 
    pid1 = fork(); 
    if (pid1 == -1) { 
        perror("fork"); 
        return 1; 
    } 
 
    if (pid1 == 0) { 
        close(pipefd[0]); 
        dup2(pipefd[1], STDOUT_FILENO); 
        close(pipefd[1]); 
        execlp("ls", "ls", "-l", NULL); 
        perror("execlp ls"); 
        exit(1); 
    } 
 
    pid2 = fork(); 
    if (pid2 == -1) { 
        perror("fork"); 
        return 1; 
    } 
 
    if (pid2 == 0) { 
        close(pipefd[1]); 
        dup2(pipefd[0], STDIN_FILENO); 
        close(pipefd[0]); 
        execlp("wc", "wc", "-l", NULL); 
        perror("execlp wc"); 
        exit(1); 
    } 
 
close(pipefd[0]); 
close(pipefd[1]); 
wait(NULL); 
wait(NULL); 
return 0; 
}
