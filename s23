Q.1) Write a C program to find whether a given file is present in current directory or not [10 Marks 
] 
#include <stdio.h> 
#include <dirent.h> 
#include <string.h> 
 
int main(int argc, char *argv[]) { 
    if (argc != 2) { 
        printf("Usage: %s <filename>\n", argv[0]); 
        return 1; 
    } 
 
    DIR *dir = opendir("."); 
    if (dir == NULL) { 
        perror("opendir"); 
        return 1; 
    } 
 
    struct dirent *entry; 
    int found = 0; 
    while ((entry = readdir(dir)) != NULL) { 
        if (strcmp(entry->d_name, argv[1]) == 0) { 
            found = 1; 
            break; 
        } 
    } 
 
    closedir(dir); 
    if (found) { 
        printf("File '%s' is present in the current directory.\n", argv[1]); 
} else { 
printf("File '%s' is not found.\n", argv[1]); 
} 
return 0; 
} 
Q.2) Write a C program to Identify the type (Directory, character device, Block device, Regular file, 
FIFO or pipe, symbolic link or socket) of given file using stat() system call. [20 Marks ] 
#include <stdio.h> 
#include <sys/stat.h> 
void check_file_type(struct stat file_stat) { 
if (S_ISREG(file_stat.st_mode)) printf("Regular file\n"); 
else if (S_ISDIR(file_stat.st_mode)) printf("Directory\n"); 
else if (S_ISCHR(file_stat.st_mode)) printf("Character device\n"); 
else if (S_ISBLK(file_stat.st_mode)) printf("Block device\n"); 
else if (S_ISFIFO(file_stat.st_mode)) printf("FIFO or pipe\n"); 
else if (S_ISLNK(file_stat.st_mode)) printf("Symbolic link\n"); 
else if (S_ISSOCK(file_stat.st_mode)) printf("Socket\n"); 
else printf("Unknown type\n"); 
} 
int main(int argc, char *argv[]) { 
if (argc != 2) { 
printf("Usage: %s <file_path>\n", argv[0]); 
return 1; 
} 
struct stat file_stat; 
if (stat(argv[1], &file_stat) != 0) { 
perror("stat"); 
return 1; 
} 
printf("File type of %s: ", argv[1]); 
check_file_type(file_stat); 
return 0; 
}
