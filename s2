Q.1) Write a C program to find file properties such as inode number, number of hard link, File 
permissions, File size, File access and modification time and so on of a given file using stat() 
system call. [10 Marks ] 

#include <stdio.h> 
#include <sys/stat.h> 
#include <time.h> 
int main(int argc, char *argv[]) { 
struct stat file_stat; 
if (stat(argv[1], &file_stat) != 0) { 
perror("stat"); 
return 1; 
} 
printf("Inode: %ld\n", file_stat.st_ino); 
printf("Links: %ld\n", file_stat.st_nlink); 
printf("Permissions: %o\n", file_stat.st_mode & 0777); 
printf("Size: %ld bytes\n", file_stat.st_size); 
printf("Access time: %s", ctime(&file_stat.st_atime)); 
printf("Modification time: %s", ctime(&file_stat.st_mtime)); 
return 0; 
}

Q.2) Write a C program that catches the ctrl-c (SIGINT) signal for the first time and display the 
appropriate message and exits on pressing ctrl-c again. [20 Marks ] 


#include <stdio.h> 
#include <signal.h> 
#include <stdlib.h> 
int sigint_count = 0; 
void handle_sigint(int sig) { 
    sigint_count++; 
    if (sigint_count == 1) 
        printf("\nCaught SIGINT (Ctrl-C), press again to exit.\n"); 
    else { 
        printf("\nCaught SIGINT again, exiting...\n"); 
        exit(0); 
    } 
} 
 
int main() { 
    signal(SIGINT, handle_sigint); 
    while (1) { 
        printf("Running... Press Ctrl-C\n"); 
        sleep(1); 
    } 
    return 0; 
} 
