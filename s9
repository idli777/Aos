Q.1) Generate parent process to write unnamed pipe and will read from it [10 Marks ] 

#include <stdio.h> 
#include <unistd.h> 
#include <string.h> 
 
int main() { 
    int fd[2]; 
 
    if (pipe(fd) == -1) { 
        perror("pipe"); 
        return 1; 
    } 
 
    pid_t pid = fork(); 
    if (pid < 0) { 
        perror("fork"); 
        return 1; 
    } 
 
    if (pid == 0) { // Child process 
        close(fd[1]); 
        char buffer[100]; 
        read(fd[0], buffer, sizeof(buffer)); 
        printf("Child received: %s\n", buffer); 
    } else { // Parent process 
        close(fd[0]); 
        char message[] = "Hello from parent!"; 
        write(fd[1], message, strlen(message) + 1); 
        wait(NULL); 
    } 
return 0; 
} 
Q.2) Write a C program to Identify the type (Directory, character device, Block device, Regular file, 
FIFO or pipe, symbolic link or socket) of given file using stat() system call. [20 Marks ] 

#include <stdio.h> 
#include <sys/stat.h> 
void check_file_type(struct stat file_stat) { 
if (S_ISREG(file_stat.st_mode)) printf("Regular file\n"); 
else if (S_ISDIR(file_stat.st_mode)) printf("Directory\n"); 
else if (S_ISCHR(file_stat.st_mode)) printf("Character device\n"); 
else if (S_ISBLK(file_stat.st_mode)) printf("Block device\n"); 
else if (S_ISFIFO(file_stat.st_mode)) printf("FIFO or pipe\n"); 
else if (S_ISLNK(file_stat.st_mode)) printf("Symbolic link\n"); 
else if (S_ISSOCK(file_stat.st_mode)) printf("Socket\n"); 
else printf("Unknown type\n"); 
} 
int main(int argc, char *argv[]) { 
struct stat file_stat; 
if (stat(argv[1], &file_stat) != 0) { 
perror("stat"); 
return 1; 
} 
check_file_type(file_stat); 
return 0; 
}
