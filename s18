Q.1) Write a C program to find whether a given file is present in current directory or not [10 Marks 

#include <sys/types.h> 
#include <sys/stat.h> 
#include <unistd.h> 
#include <stdio.h> 
int main(int argc, char *argv[]) { 
struct stat file_stat; 
if (stat(argv[1], &file_stat) == -1) { 
perror("stat"); 
return(1); 
} 
if (S_ISREG(file_stat.st_mode)) printf("Regular file\n"); 
else if (S_ISDIR(file_stat.st_mode)) printf("Directory\n"); 
else if (S_ISCHR(file_stat.st_mode)) printf("Character device\n"); 
else if (S_ISBLK(file_stat.st_mode)) printf("Block device\n"); 
else if (S_ISFIFO(file_stat.st_mode)) printf("FIFO\n"); 
else if (S_ISLNK(file_stat.st_mode)) printf("Symbolic link\n"); 
else if (S_ISSOCK(file_stat.st_mode)) printf("Socket\n"); 
else printf("Unknown file type\n"); 
return(0); 
} 
Q.2) Write a C program to create an unnamed pipe. The child process will write following three  
messages to pipe and parent process display it.   
Message1 = “Hello World”   
Message2 = “Hello SPPU”   
Message3 = “Linux is Funny”       
[20 Marks ] 

#include <stdio.h> 
#include <unistd.h> 
#include <string.h> 
 
int main() { 
    int fd[2]; 
    pid_t pid; 
    char buffer[100]; 
 
    if (pipe(fd) == -1) { 
        perror("pipe"); 
        return 1; 
    } 
 
    pid = fork(); 
    if (pid < 0) { 
        perror("fork"); 
        return 1; 
    } 
 
    if (pid == 0) { // Child process 
        close(fd[0]); // Close read end 
 
        char *messages[] = { 
            "Hello World", 
            "Hello SPPU", 
            "Linux is Funny" 
        }; 
 
        for (int i = 0; i < 3; i++) { 
            write(fd[1], messages[i], strlen(messages[i]) + 1); 
            sleep(1); 
        } 
 
        close(fd[1]); 
    } else { // Parent process 
        close(fd[1]); // Close write end 
 
        while (read(fd[0], buffer, sizeof(buffer)) > 0) { 
            printf("Parent received: %s\n", buffer); 
        } 
 
        close(fd[0]); 
        wait(NULL); 
    } 
 
    return 0; 
}
